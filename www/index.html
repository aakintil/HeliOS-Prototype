<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
		<title></title>

		<link href="lib/ionic/css/ionic.css" rel="stylesheet">
		<link href="css/style.css" rel="stylesheet">
		<!--		<link href="css/animate.css" rel="stylesheet">-->
		<!-- IF using Sass (run gulp sass first), then uncomment below and remove the CSS includes above <link href="css/ionic.app.css" rel="stylesheet">
-->

		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<!-- ionic/angularjs js -->
		<script src="lib/ionic/js/ionic.bundle.js"></script>

		<!-- cordova script (this will be a 404 during development) -->
		<script src="cordova.js"></script>

		<!-- your app's js -->
		<script src="js/app.js"></script>
		<script src="js/script.js"></script>
	</head>

	<body ng-app="starter" class="home">


		<!------------------- NAVIGATION ------------------->
		<ion-nav-bar id="nav-bar" ng-controller="NavCtrl" class="bar-positive my-nav-bar" align-title="center">
			<div class="button-bar nav-bar-buttons">
				<!-- place in a.button -->

				<a class="button jobs" ng-click="hideModal()" href="index.html"><img class="icon" src="img/icons/home-colored.svg"></a>
				<a class="button alerts" ng-click="hideModal()" href="alerts.html"><img class="icon" src="img/icons/alert-gray.svg"></a>
				<a class="button" href="add.html"><img class="icon" src="img/icons/add-gray.svg"></a>
				<!-- <a class="button" ng-click="showSelectionModal()"><img class="icon" src="img/icons/add-gray.svg"></a> -->
			</div>
			<input id="search" type="text" placeholder="Search"  autocomplete="off" ng-model="searchText" ng-change=""> 
			<!-- if you're on the job page, then the elements have plus signs otherwise it looks like normal -->	
		</ion-nav-bar>


		<!------------------- NOTIFICATIONS BAR ------------------->
		<div id="notification"> </div>

		<!------------------- MODALS ------------------->
		<!--		Transparent Screen that will allow us to dismiss the dialog-->
		<div id="hover" ng-controller="ModalCtrl" ng-click="hideModal()"></div>

		<div id="selectionModal" ng-controller="ModalCtrl" class="card popup-modal">
			<form ng-submit="createTask(task)">
				<div class="list">
					<button class="button button-full button-dark" ng-click="showModal( 'note' )"> Note </button>
					<button class="button button-full button-dark" ng-click="showModal( 'job' )"> Job </button>
					<!-- end of list -->
				</div>
			</form>
		</div>

		<!--		dunno if we have to change the controllers for add note and job: DISCUSS LATER-->
		<div id="addNoteModal" ng-controller="ModalCtrl" class="card popup-modal">
			<form ng-submit="submit(note)">
				<div class="list">
					<p class="input-header"> Add New Note </p>
					<a href="" class="closeModals" ng-click="hideModal()"> <i class="icon ion-close-round"></i> </a>

					<label class="item item-input">
						<textarea placeholder="Write Your Note" ng-model="note.message"> </textarea>
					</label>

					<label class="item item-input item-select">
						<div class="input-label">
							Add To Job (Optional)
						</div>			

						<select ng-model="note.job"  ng-options="job.title for job in jobs"></select>
					</label>


					<button type="submit" id="submit" value="Submit" class="button button-full button-dark" >Create Note</button>
				</div>
			</form>
		</div>

		<div id="addJobModal" ng-controller="ModalCtrl" class="card popup-modal">
			<form ng-submit="submit(job)">
				<div class="list">
					<p class="input-header"> Add New Job </p>
					<a href="" class="closeModals" ng-click="hideModal()"> <i class="icon ion-close-round"></i> </a>

					<label class="item item-input">
						<input type="text" placeholder="Title" ng-model="job.title">
					</label>

					<label class="item item-input">
						<input type="text" placeholder="Add Participants (Optional)" ng-model="job.members">
					</label>

					<label class="item item-input">
						<textarea placeholder="Create Note (Optional)" ng-model="job.note"> </textarea>
					</label>

					<button type="submit" id="submit" value="Submit" class="button button-full button-dark" >Create Job</button>
				</div>
			</form>
		</div>



		<!------------------- JOBS VIEW ------------------->
		<ion-view title="Jobs" hide-back-button="true" ng-controller="JobsCtrl" class="nav-frame">
			<ion-content>
				<div class="section" >
					<div class="item item-divider home">
						<div class="left-title-button"><back></back></div>
						<div class="center-text">Home</div>
						<div class="right-title-button"></div>
					</div>
					<ul class="list">
						<li class="item">
							<a href="job.html?id={{mpn}}">
								<div class="large-regular-text"><img class="medium-icon" src="img/icons/notebook.svg">My personal notes</div>
							</a>
						</li>
					</ul>
				</div>

				<div class="section">
					<div class="item item-divider">
						<div class="section-header">My Jobs</div>
					</div>
					<div class="list">
						<ul class="list">
							<li class="item item-button-right" ng-repeat="job in jobs">
								<a href="job.html?id={{job._id}}" ng-click="broadcastJob(job._id)">
									<div class="big-title">{{job.title}}</div>
									<div class="small-regular-text">{{job.members}}</div>
								</a>
							</li>
						</ul>
					</div>
				</div>

				<div class="section">
					<div class="item item-divider">
						<div class="section-header">Other Jobs</div>
					</div>
					<div class="item item-button-right">
						<a href="job.html?id=1" ng-click="broadcastJob(1)">
							<div class="big-title">Backlog Stations</div>
							<div class="small-regular-text">Derin M.</div>
						</a>
					</div>

					<div class="item item-button-right">
						<a href="job.html?id=1" ng-click="broadcastJob(1)">
							<div class="big-title">Replace ArcJet Tubes</div>
							<div class="small-regular-text">Lisa D, Christine E, Elisa M</div>
						</a>
					</div>

					<div class="item item-button-right">
						<a href="job.html?id=1" ng-click="broadcastJob(1)">
							<div class="big-title">Rearrange Work Station</div>
							<div class="small-regular-text">Melissa M</div>
						</a>
					</div>
				</div>

				<div class="section">
					<div class="item item-divider">
						<div class="section-header">Templates</div>
					</div>
					<div class="item item-button-right">
						<a href="job.html?id=1" ng-click="broadcastJob(1)">
							<div class="big-title">Backlog Stations</div>
							<div class="small-regular-text">Last completed 5/5/14 by Adam M.</div>
						</a>
					</div>

					<div class="item item-button-right">
						<a href="job.html?id=1" ng-click="broadcastJob(1)">
							<div class="big-title">Replace ArcJet Tubes</div>
							<div class="small-regular-text">Last completed 5/5/14 by Adam M.</div>
						</a>
					</div>

					<div class="item item-button-right">
						<a href="job.html?id=1" ng-click="broadcastJob(1)">
							<div class="big-title">Rearrange Work Station</div>
							<div class="small-regular-text">Last completed 5/5/14 by Adam M.</div>
						</a>
					</div>
				</div>

			</ion-content>
		</ion-view>


	</body>


	<!--		Add Note Modal-->
	<script id="new_note_modal.html" type="text/ng-template">
<div class="modal">
Modal Header Bar
<ion-header-bar class="bar-secondary">
<h1 class="title">New Task</h1>
<button class="button button-clear button-positive" ng-click="closeNewTask()">Cancel</button>                
		</ion-header-bar>

Modal content area
<ion-content>
<form ng-submit="createTask(task)">
<div class="list">
<label class="item item-input">
<input type="text" placeholder="Whats up" ng-model="task.title">
		</label>
		</div>
		</form>
		</ion-content> 
		</div>
	</script>

	</body>
</html>
